(this["webpackJsonpreact-2020"]=this["webpackJsonpreact-2020"]||[]).push([[0],{117:function(e,t,r){},137:function(e,t,r){"use strict";r.r(t);var c=r(5),n=r(0),a=r.n(n),s=r(12),i=r.n(s),o=r(63),l=r(169),u=r(170),j=r(171),b=r(172),d=r(183),h=r(182),O=r(184),p=r(173),x=r(174),m=r(90),v=r.n(m),f=r(16),y=r(166),g=function(e){return Object(c.jsx)(y.a,Object(f.a)({},e))},C=r(35),S=r(51),E={getCurrencies:Object(S.a)("GET_CURRENCIES"),convertCurrency:Object(S.a)("CONVERT_CURRENCY"),saveHistory:Object(S.a)("SAVE_HISTORY"),removeHistory:Object(S.a)("REMOVE_HISTORY")},F=Object(l.a)((function(e){return{paper:{borderTop:"6px solid "+e.palette.primary.main},title:{margin:"20px 0 40px"}}})),R=function(){var e=F(),t=Object(C.b)(),r=Object(C.c)((function(e){return e})),n=r.currency,s=r.convert,i=a.a.useState("USD"),l=Object(o.a)(i,2),m=l[0],f=l[1],y=a.a.useState("UZS"),S=Object(o.a)(y,2),R=S[0],U=S[1],k=a.a.useState(1),w=Object(o.a)(k,2),q=w[0],T=w[1];a.a.useEffect((function(){t(E.getCurrencies.request())}),[t]);a.a.useEffect((function(){t(E.convertCurrency.request({from:m,to:R,amount:q}))}),[m,R,t]);return Object(c.jsxs)("div",{children:[Object(c.jsx)(u.a,{className:e.title,align:"center",component:"h1",variant:"h4",children:"Currency Converter"}),Object(c.jsx)(j.a,{container:!0,justify:"center",spacing:0,children:Object(c.jsx)(j.a,{item:!0,xs:4,children:Object(c.jsx)(b.a,{className:e.paper,elevation:2,square:!0,children:Object(c.jsxs)(d.a,{p:5,className:e.box,children:[Object(c.jsx)(u.a,{paragraph:!0,component:"p",align:"center",variant:"subtitle2",color:"textSecondary",children:"Exchange Rate"}),s.isFetched&&Object.keys(s.result).length?Object(c.jsxs)(u.a,{component:"p",align:"center",variant:"h5",children:[Object(c.jsxs)("b",{children:[s.result.from.amount," "]}),s.result.from.code," = ",Object(c.jsxs)("b",{children:[s.result.to.amount," "]}),s.result.to.code]}):null,s.isFetched&&!Object.keys(s.result).length?Object(c.jsx)(u.a,{component:"p",align:"center",variant:"subtitle1",children:"Enter some money to see the result"}):null,!s.isFetched&&Object(c.jsx)(g,{style:{display:"block",margin:"auto"}}),Object(c.jsx)(d.a,{marginY:5,children:Object(c.jsxs)(j.a,{container:!0,spacing:3,children:[Object(c.jsx)(j.a,{item:!0,xs:12,children:Object(c.jsx)(h.a,{value:q,onChange:function(e){var t=e.target.value,r=/^[0-9\b]+$/.test(t);"0"===t||""!==t&&!r||T(t)},fullWidth:!0,id:"amount",label:"Amount",type:"text",variant:"outlined",InputLabelProps:{shrink:!0}})}),Object(c.jsx)(j.a,{item:!0,sm:5,xs:12,children:Object(c.jsx)(h.a,{value:m,onChange:function(e){return f(e.target.value)},select:!0,fullWidth:!0,id:"amount",label:"From",type:"number",variant:"outlined",InputLabelProps:{shrink:!0},children:n.list.length?n.list.map((function(e){return Object(c.jsx)(O.a,{value:e.code,children:e.code},e.code)})):Object(c.jsx)(O.a,{value:m,children:m})})}),Object(c.jsx)(j.a,{item:!0,xs:2,children:Object(c.jsx)(p.a,{onClick:function(){var e=R;U(m),f(e)},children:Object(c.jsx)(v.a,{color:"primary","aria-label":"Swap button"})})}),Object(c.jsx)(j.a,{item:!0,sm:5,xs:12,children:Object(c.jsx)(h.a,{value:R,onChange:function(e){return U(e.target.value)},select:!0,fullWidth:!0,id:"amount",label:"To",type:"number",variant:"outlined",InputLabelProps:{shrink:!0},children:n.list.length?n.list.map((function(e){return Object(c.jsx)(O.a,{value:e.code,children:e.code},e.code)})):Object(c.jsx)(O.a,{value:R,children:R})})})]})}),Object(c.jsx)(x.a,{variant:"contained",color:"primary",disableElevation:!0,size:"large",fullWidth:!0,disabled:!s.isFetched,onClick:function(){t(E.convertCurrency.request({from:m,to:R,amount:q}))},children:s.isFetched?"Convert":"Converting..."})]})})})})]})},U=r(6),k=r(175),w=r(176),q=r(177),T=r(178),N=r(179),H=r(180),I=r(181),L=r(91),A=r.n(L),B=Object(l.a)((function(){return{wrapper:{padding:"50px 0"},title:{marginBottom:"20px"},paper:{maxWidth:700,margin:"auto"}}})),Q=Object(U.a)((function(e){return{head:{backgroundColor:e.palette.primary.main,color:e.palette.common.white},body:{fontSize:14}}}))(k.a),W=function(){var e=B(),t=Object(C.b)(),r=Object(C.c)((function(e){return e.history})).list;return Object(c.jsx)("div",{className:e.wrapper,children:Object(c.jsxs)(w.a,{children:[Object(c.jsx)(u.a,{className:e.title,color:"textSecondary",align:"center",component:"h2",variant:"h4",children:"History"}),Object(c.jsx)(q.a,{className:e.paper,component:b.a,children:Object(c.jsxs)(T.a,{"aria-label":"simple table",children:[Object(c.jsx)(N.a,{children:Object(c.jsxs)(H.a,{children:[Object(c.jsx)(Q,{children:"\u2116"}),Object(c.jsx)(Q,{children:"From"}),Object(c.jsx)(Q,{children:"To"}),Object(c.jsx)(Q,{children:"Date"}),Object(c.jsx)(Q,{children:"Remove"})]})}),Object(c.jsx)(I.a,{children:r.length?r.map((function(e,r){return Object(c.jsxs)(H.a,{children:[Object(c.jsx)(k.a,{component:"th",scope:"row",children:r+1}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)("b",{children:e.from.amount})," ",e.from.code]}),Object(c.jsxs)(k.a,{children:[Object(c.jsx)("b",{children:e.to.amount})," ",e.to.code]}),Object(c.jsx)(k.a,{children:e.date}),Object(c.jsx)(k.a,{children:Object(c.jsx)(p.a,{onClick:function(){return t(E.removeHistory.request(r))},color:"secondary",children:Object(c.jsx)(A.a,{})})})]},r)})):Object(c.jsx)(H.a,{children:Object(c.jsx)(k.a,{children:"No data"})})})]})})]})})},P=(r(116),r(117),r(93)),Y=r(17),_=r(30),V=r(94),z={isFetched:!0,result:{},error:null};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.convertCurrency.REQUEST:return Object(f.a)(Object(f.a)({},e),{},{isFetched:!1,error:null});case E.convertCurrency.SUCCESS:return Object(f.a)(Object(f.a)({},e),{},{isFetched:!0,result:t.payload,error:null});case E.convertCurrency.FAILURE:return Object(f.a)(Object(f.a)({},e),{},{isFetched:!0,error:t.payload});default:return e}},J=r(61),G={isFetched:!0,list:[],error:null};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.getCurrencies.REQUEST:return Object(f.a)(Object(f.a)({},e),{},{isFetched:!1,error:null});case E.getCurrencies.SUCCESS:return Object(f.a)(Object(f.a)({},e),{},{isFetched:!0,list:Object(J.a)(t.payload),error:null});case E.getCurrencies.FAILURE:return Object(f.a)(Object(f.a)({},e),{},{isFetched:!0,error:t.payload});default:return e}},Z={list:[]};var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.saveHistory.SUCCESS:return Object(f.a)(Object(f.a)({},e),{},{list:[].concat(Object(J.a)(e.list),[t.payload])});case E.removeHistory.REQUEST:return Object(f.a)(Object(f.a)({},e),{},{list:e.list.filter((function(e,r){return r!==t.payload}))});default:return e}},K=Object(_.c)({convert:D,currency:M,history:$}),X=r(39),ee=r.n(X),te=r(18),re=r(62),ce=r.n(re),ne=r(92),ae=r.n(ne);ce.a.defaults.params={},ce.a.defaults.headers.common.Accept="application/json";var se={request:ce.a.create({baseURL:"https://api.exchangerate.host"}),queryBuilder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.from,c=t.to,n=t.amount,a={};return r&&(a.from=r),c&&(a.to=c),n&&(a.amount=n),ae()({path:e,queryParams:a})}},ie=ee.a.mark(ue),oe=ee.a.mark(je),le=ee.a.mark(be);function ue(){var e,t;return ee.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(te.b)(se.request.get,se.queryBuilder("/symbols"));case 3:return e=r.sent,t=e.data.symbols,r.next=7,Object(te.c)({type:E.getCurrencies.SUCCESS,payload:Object.values(t)});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(te.c)(E.getCurrencies.failure(r.t0));case 13:case"end":return r.stop()}}),ie,null,[[0,9]])}function je(e){var t,r,c,n,a,s,i;return ee.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,r=void 0===t?{}:t,o.prev=1,o.next=4,Object(te.b)(se.request.get,se.queryBuilder("/convert",Object(f.a)({},r)));case 4:return c=o.sent,n=c.data,a=n.result,s=n.date,i={from:{code:r.from,amount:r.amount},to:{code:r.to,amount:a.toFixed(2)},date:s},o.next=11,Object(te.c)({type:E.convertCurrency.SUCCESS,payload:i});case 11:return o.next=13,Object(te.c)({type:E.saveHistory.SUCCESS,payload:i});case 13:o.next=19;break;case 15:return o.prev=15,o.t0=o.catch(1),o.next=19,Object(te.c)(E.convertCurrency.failure(o.t0.message));case 19:case"end":return o.stop()}}),oe,null,[[1,15]])}function be(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.a)([Object(te.g)(E.getCurrencies.REQUEST,ue),Object(te.g)(E.convertCurrency.REQUEST,je)]);case 2:case"end":return e.stop()}}),le)}var de=Object(V.a)(),he=Object(_.e)(K,Object(_.a)(de));de.run(be),i.a.render(Object(c.jsx)(C.a,{store:he,children:Object(c.jsx)(P.a,{children:Object(c.jsx)(Y.c,{children:Object(c.jsx)(Y.a,{exact:!0,path:"/",component:function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(R,{}),Object(c.jsx)(W,{})]})}})})})}),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.dc5620e1.chunk.js.map